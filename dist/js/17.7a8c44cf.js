(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{410:function(t,n){t.exports='\x3c!--\ntitle: 组件开发\nsort: 3\n--\x3e\n\n组件开发，以图片组件为例。\n\n## 上层接口新增类型与方法\n\n- 新建一个```ImgAttribute```类型\n\n```go\ntype ImgAttribute interface {\n\tSetWidth(value string) ImgAttribute\n\tSetHeight(value string) ImgAttribute\n\tSetSrc(value string) ImgAttribute\n\tGetContent() template.HTML\n}\n```\n\n- 在```Template```接口中，增加一个方法：\n\n```go\ntype Template interface {\n\t...\n\tImage() types.ImgAttribute\n\t...\n}\n```\n\n## 具体实现，以```adminlte```为例子\n\n- 实现```ImgAttribute```\n\n在```./template/adminlte/components```下新建```image.go```文件，内容如下：\n\n```go\npackage components\n\nimport (\n\t"github.com/chenhg5/go-admin/template/types"\n\t"html/template"\n)\n\ntype ImgAttribute struct {\n\tName   string\n\tWitdh  string\n\tHeight string\n\tSrc    string\n}\n\nfunc (compo *ImgAttribute) SetWidth(value string) types.ImgAttribute {\n\tcompo.Witdh = value\n\treturn compo\n}\n\nfunc (compo *ImgAttribute) SetHeight(value string) types.ImgAttribute {\n\tcompo.Height = value\n\treturn compo\n}\n\nfunc (compo *ImgAttribute) SetSrc(value string) types.ImgAttribute {\n\tcompo.Src = value\n\treturn compo\n}\n\nfunc (compo *ImgAttribute) GetContent() template.HTML {\n\treturn ComposeHtml(compo.TemplateList, *compo, "image")\n}\n```\n\n- 实现```Image()```\n\n在```./template/adminlte/adminlte.go```中，增加一个函数：\n\n```go\nfunc (*Theme) Image() types.ImgAttribute {\n\treturn &components.ImgAttribute{\n\t\tName:   "image",\n\t\tWitdh:  "50",\n\t\tHeight: "50",\n\t\tSrc:    "",\n\t}\n}\n```\n\n到这里还是没有完成的，需要增加静态资源文件。\n\n- 增加静态资源文件\n\n在```./template/adminlte/resource/pages/components```增加```image.tmpl```文件\n\n烦人，还有最后一步\n\n- 在根目录下执行：\n\n```shell\nadmincli compile\n```'}}]);